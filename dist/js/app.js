var model={previousCommands:[{text:"type 'help' to view commands",type:"response"}],commandPrefix:"$",currentOutput:null,commands:[{text:"",params:null},{text:"help",params:null},{text:"email",params:["<subject>"]},{text:"open",params:["resume"]},{text:"show",params:["education","skills","xp"]}],defaultMessage:{message:["to view the resume, enter 'open resume' in the terminal to the left","type 'help' to view other commands"]},data:{name:"John Sylvain",position:"Web developer and designer",contact:{email:"me@johnsylva.in",phone:3136180632,social:{github:"http://github.com/johnsylvain",linkedin:"http://linkedin.com/in/johnsylvain"}},education:{name:"Purdue University",gradutionDate:"May 2017",gpa:3.97,area:{major:"Computer Graphics Technology",minor:"Computer Information Technology"}},experience:[{title:"Blast Radius",position:"Web Development Intern",date:"Summer 2015",description:["Developed interactive website experiences for a variety of clients.","Collaborated with professionals in web development and design."]},{title:"Freelance Graphic Design",date:"August 2014 - Present",description:["Consulted with clients to produce designs and marketing materials","Clients include: Organizaions, Student Government Campaigns, and Career Fairs"]},{title:"Eagle Scout",date:"June 2013",description:["Oversaw the development and conducted a community service project.","Resulted in more than 150 hours of service."]}],skills:{languages:[{name:"HTML/CSS",related:["SASS","jade"]},{name:"JavaScript",related:["AngularJS","Vue.js","Node.js","Express.js","jQuery"]},{name:"PHP",related:["SQL","Slim","Flight"]}],technical:["git","gulp"]}}},filters={textToJSON:function(e){return"string"!=typeof e&&(e=JSON.stringify(e,void 0,2)),e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="'+t+'">'+e+"</span>"})}},controller={init:function(){model.currentOutput=model.defaultMessage,resumeContentView.init(),consoleView.init()},getResumeData:function(){return model.data},getDefaultData:function(){return model.defaultMessage},getCurrentOutput:function(){return model.currentOutput},updateOutput:function(e,t){model.currentOutput=e,t()},enterCommand:function(e){var t=!1,n=e.split(" ");model.previousCommands.push({text:e,type:"command"});for(var o=0;o<model.commands.length;o++){var r=model.commands[o];n[0]===r.text&&(t=!0)}t?this.executeCommand(e):model.previousCommands.push({text:"command not found: "+n[0],type:"error"},{text:"to view available commands type: help",type:"response"}),consoleView.render()},executeCommand:function(e){var t=this,n=e.split(" "),o={help:function(){var e=model.commands;model.previousCommands.push({text:"-----",type:"response"},{text:"Available Commands:",type:"response"},{text:"-----",type:"response"});for(var t=0;t<e.length;t++){var n=e[t];model.previousCommands.push({text:n.text,type:"response"}),null!==n.params&&model.previousCommands.push({text:"-accepts: "+n.params,type:"response"})}consoleView.render()},open:function(){var e=function(){t.updateOutput({resume:model.data},function(){resumeContentView.render()})};return 1!==n.length?{resume:e}:void model.previousCommands.push({text:"type 'open resume'",type:"warning"})},show:function(){var e=function(){t.updateOutput({education:model.data.education},function(){resumeContentView.render()})},o=function(){t.updateOutput({experience:model.data.experience},function(){resumeContentView.render()})},r=function(){t.updateOutput({skills:model.data.skills},function(){resumeContentView.render()})};return 1!==n.length?{education:e,skills:r,xp:o}:void model.previousCommands.push({text:"type 'show ["+model.commands[4].params+"]'",type:"warning"})},email:function(){for(var e="",t=1;t<n.length;t++)e+=" "+n[t];var o="mailto:me@johnsylva.in?subject="+e;window.open(o)}};if(1===n.length)o[n[0]]();else if("email"===n[0])o[n[0]]();else if(n.length>1){var r=o[n[0]]();r[n[1]]?r[n[1]]():model.previousCommands.push({text:n[1]+" is not a proper parameter of '"+n[0]+"'",type:"error"})}},getPreviousCommands:function(){return model.previousCommands},getFileName:function(){var e=model.currentOutput,t=Object.keys(e)[0];return t}},resumeContentView={init:function(){this.resumeContainerElem=document.getElementById("resume-code"),this.render()},render:function(){var e=controller.getCurrentOutput(),t=filters.textToJSON(JSON.stringify(e,null,"  "));this.resumeContainerElem.innerHTML=t}},consoleView={init:function(){this.promptElem=document.getElementById("command-prompt"),this.prevElem=document.getElementById("commands"),this.fileNameElem=document.getElementById("file-name");var e=document.getElementById("console"),t=document.getElementById("command-input");t.focus(),e.addEventListener("click",function(){t.focus()}),this.promptElem.addEventListener("submit",function(e){e.preventDefault();var t=e.target.prompt.value;e.target.prompt.value="",controller.enterCommand(t)}),this.render()},render:function(){this.prevElem.innerHTML="";var e=controller.getPreviousCommands();this.fileNameElem.textContent=controller.getFileName();for(var t=0;t<e.length;t++){var n=e[t],o=document.createElement("li");"command"===n.type?o.textContent="$ "+n.text:"error"===n.type?(o.textContent=n.text,o.className="commandError"):"response"===n.type?(o.textContent=n.text,o.className="commandResponse"):"warning"===n.type&&(o.textContent=n.text,o.className="commandWarning"),this.prevElem.appendChild(o)}}};controller.init();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVsLmpzIiwiZmlsdGVycy5qcyIsImNvbnRyb2xsZXIuanMiLCJ2aWV3cy5qcyIsImFwcC5qcyJdLCJuYW1lcyI6WyJtb2RlbCIsInByZXZpb3VzQ29tbWFuZHMiLCJ0ZXh0IiwidHlwZSIsImNvbW1hbmRQcmVmaXgiLCJjdXJyZW50T3V0cHV0IiwiY29tbWFuZHMiLCJwYXJhbXMiLCJkZWZhdWx0TWVzc2FnZSIsIm1lc3NhZ2UiLCJkYXRhIiwibmFtZSIsInBvc2l0aW9uIiwiY29udGFjdCIsImVtYWlsIiwicGhvbmUiLCJzb2NpYWwiLCJnaXRodWIiLCJsaW5rZWRpbiIsImVkdWNhdGlvbiIsImdyYWR1dGlvbkRhdGUiLCJncGEiLCJhcmVhIiwibWFqb3IiLCJtaW5vciIsImV4cGVyaWVuY2UiLCJ0aXRsZSIsImRhdGUiLCJkZXNjcmlwdGlvbiIsInNraWxscyIsImxhbmd1YWdlcyIsInJlbGF0ZWQiLCJ0ZWNobmljYWwiLCJmaWx0ZXJzIiwidGV4dFRvSlNPTiIsImpzb24iLCJKU09OIiwic3RyaW5naWZ5IiwidW5kZWZpbmVkIiwicmVwbGFjZSIsIm1hdGNoIiwiY2xzIiwidGVzdCIsImNvbnRyb2xsZXIiLCJpbml0IiwicmVzdW1lQ29udGVudFZpZXciLCJjb25zb2xlVmlldyIsImdldFJlc3VtZURhdGEiLCJnZXREZWZhdWx0RGF0YSIsImdldEN1cnJlbnRPdXRwdXQiLCJ1cGRhdGVPdXRwdXQiLCJuZXdPdXRwdXQiLCJjYWxsYmFjayIsImVudGVyQ29tbWFuZCIsImNvbW1hbmQiLCJmbGFnIiwiYXJncyIsInNwbGl0IiwicHVzaCIsImkiLCJsZW5ndGgiLCJtb2RlbENvbW1hbmQiLCJ0aGlzIiwiZXhlY3V0ZUNvbW1hbmQiLCJyZW5kZXIiLCJfdGhpcyIsImNvbUFyZ3MiLCJoZWxwIiwiYXZhbENvbW1hbmQiLCJvcGVuIiwib3BlblJlc3VtZSIsInJlc3VtZSIsInNob3ciLCJzaG93RWR1Y2F0aW9uIiwic2hvd1hwIiwic2hvd1NraWxscyIsInhwIiwic3ViamVjdCIsImxpbmsiLCJ3aW5kb3ciLCJzdWJDb21tYW5kIiwiZ2V0UHJldmlvdXNDb21tYW5kcyIsImdldEZpbGVOYW1lIiwiY3VycmVudCIsImZpbGVOYW1lIiwiT2JqZWN0Iiwia2V5cyIsInJlc3VtZUNvbnRhaW5lckVsZW0iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaW5uZXJIVE1MIiwicHJvbXB0RWxlbSIsInByZXZFbGVtIiwiZmlsZU5hbWVFbGVtIiwiY29uc29sZUVsZW0iLCJjb21tYW5kSW5wdXQiLCJmb2N1cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJ0YXJnZXQiLCJwcm9tcHQiLCJ2YWx1ZSIsInRleHRDb250ZW50IiwiZWxlbSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJhcHBlbmRDaGlsZCJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBQUEsUUFDQUMsbUJBRUFDLEtBQUEsK0JBQ0FDLEtBQUEsYUFHQUMsY0FBQSxJQUNBQyxjQUFBLEtBQ0FDLFdBRUFKLEtBQUEsR0FDQUssT0FBQSxPQUdBTCxLQUFBLE9BQ0FLLE9BQUEsT0FHQUwsS0FBQSxRQUNBSyxRQUFBLGVBR0FMLEtBQUEsT0FDQUssUUFBQSxZQUdBTCxLQUFBLE9BQ0FLLFFBQUEsWUFBQSxTQUFBLFFBR0FDLGdCQUNBQyxTQUNBLHNFQUNBLHVDQUdBQyxNQUNBQyxLQUFBLGVBQ0FDLFNBQUEsNkJBQ0FDLFNBQ0FDLE1BQUEsa0JBQ0FDLE1BQUEsV0FDQUMsUUFDQUMsT0FBQSxnQ0FDQUMsU0FBQSx1Q0FHQUMsV0FDQVIsS0FBQSxvQkFDQVMsY0FBQSxXQUNBQyxJQUFBLEtBQ0FDLE1BQ0FDLE1BQUEsK0JBQ0FDLE1BQUEsb0NBR0FDLGFBRUFDLE1BQUEsZUFDQWQsU0FBQSx5QkFDQWUsS0FBQSxjQUNBQyxhQUNBLHNFQUNBLG9FQUlBRixNQUFBLDJCQUNBQyxLQUFBLHdCQUNBQyxhQUNBLG9FQUNBLG1GQUlBRixNQUFBLGNBQ0FDLEtBQUEsWUFDQUMsYUFD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M0IsS0FBQStCLGFBQUFMLFNBQUFDLGVBQUEsWUFFQSxJQUFBSyxHQUFBTixTQUFBQyxlQUFBLFdBQ0FNLEVBQUFQLFNBQUFDLGVBQUEsZ0JBQ0FNLEdBQUFDLFFBRUFGLEVBQUFHLGlCQUFBLFFBQUEsV0FDQUYsRUFBQUMsVUFHQWxDLEtBQUE2QixXQUFBTSxpQkFBQSxTQUFBLFNBQUFDLEdBQ0FBLEVBQUFDLGdCQUNBLElBQUE3QyxHQUFBNEMsRUFBQUUsT0FBQUMsT0FBQUMsS0FDQUosR0FBQUUsT0FBQUMsT0FBQUMsTUFBQSxHQUNBM0QsV0FBQVUsYUFBQUMsS0FFQVEsS0FBQUUsVUFHQUEsT0FBQSxXQUNBRixLQUFBOEIsU0FBQUYsVUFBQSxFQUNBLElBQUFwRixHQUFBcUMsV0FBQXNDLHFCQUVBbkIsTUFBQStCLGFBQUFVLFlBQUE1RCxXQUFBdUMsYUFHQSxLQUFBLEdBQUF2QixHQUFBLEVBQUFBLEVBQUFyRCxFQUFBc0QsT0FBQUQsSUFBQSxDQUNBLEdBQUFMLEdBQUFoRCxFQUFBcUQsR0FDQTZDLEVBQUFoQixTQUFBaUIsY0FBQSxLQUVBLGFBQUFuRCxFQUFBbkQsS0FDQXFHLEVBQUFELFlBQUEsS0FBQWpELEVBQUFwRCxLQUNBLFVBQUFvRCxFQUFBbkQsTUFDQXFHLEVBQUFELFlBQUFqRCxFQUFBcEQsS0FDQXNHLEVBQUFFLFVBQUEsZ0JBQ0EsYUFBQXBELEVBQUFuRCxNQUNBcUcsRUFBQUQsWUFBQWpELEVBQUFwRCxLQUNBc0csRUFBQUUsVUFBQSxtQkFDQSxZQUFBcEQsRUFBQW5ELE9BQ0FxRyxFQUFBRCxZQUFBakQsRUFBQXBELEtBQ0FzRyxFQUFBRSxVQUFBLGtCQUdBNUMsS0FBQThCLFNBQUFlLFlBQUFILEtDNURBN0QsWUFBQUMiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG1vZGVsID0ge1xuICBwcmV2aW91c0NvbW1hbmRzOiBbXG4gICAge1xuICAgICAgdGV4dDogJ3R5cGUgXFwnaGVscFxcJyB0byB2aWV3IGNvbW1hbmRzJyxcbiAgICAgIHR5cGU6ICdyZXNwb25zZSdcbiAgICB9XG4gIF0sXG4gIGNvbW1hbmRQcmVmaXg6ICckJyxcbiAgY3VycmVudE91dHB1dDogbnVsbCxcbiAgY29tbWFuZHM6IFtcbiAgICB7XG4gICAgICB0ZXh0OiAnJyxcbiAgICAgIHBhcmFtczogIG51bGxcbiAgICB9LFxuICAgIHtcbiAgICAgIHRleHQ6ICdoZWxwJyxcbiAgICAgIHBhcmFtczogbnVsbFxuICAgIH0sXG4gICAge1xuICAgICAgdGV4dDogJ2VtYWlsJyxcbiAgICAgIHBhcmFtczogWyc8c3ViamVjdD4nXVxuICAgIH0sXG4gICAge1xuICAgICAgdGV4dDogJ29wZW4nLFxuICAgICAgcGFyYW1zOiBbJ3Jlc3VtZSddXG4gICAgfSxcbiAgICB7XG4gICAgICB0ZXh0OiAnc2hvdycsXG4gICAgICBwYXJhbXM6IFsnZWR1Y2F0aW9uJywgJ3NraWxscycsICd4cCddXG4gICAgfVxuICBdLFxuICBkZWZhdWx0TWVzc2FnZToge1xuICAgIG1lc3NhZ2U6IFtcbiAgICAgIFwidG8gdmlldyB0aGUgcmVzdW1lLCBlbnRlciAnb3BlbiByZXN1bWUnIGluIHRoZSB0ZXJtaW5hbCB0byB0aGUgbGVmdFwiLFxuICAgICAgXCJ0eXBlICdoZWxwJyB0byB2aWV3IG90aGVyIGNvbW1hbmRzXCJcbiAgICBdXG4gIH0sXG4gIGRhdGE6IHtcbiAgICBuYW1lOiBcIkpvaG4gU3lsdmFpblwiLFxuICAgIHBvc2l0aW9uOiBcIldlYiBkZXZlbG9wZXIgYW5kIGRlc2lnbmVyXCIsXG4gICAgY29udGFjdDp7XG4gICAgICBlbWFpbDogXCJtZUBqb2huc3lsdmEuaW5cIixcbiAgICAgIHBob25lOiAzMTM2MTgwNjMyLFxuICAgICAgc29jaWFsOiB7XG4gICAgICAgIGdpdGh1YjogJ2h0dHA6Ly9naXRodWIuY29tL2pvaG5zeWx2YWluJyxcbiAgICAgICAgbGlua2VkaW46ICdodHRwOi8vbGlua2VkaW4uY29tL2luL2pvaG5zeWx2YWluJ1xuICAgICAgfVxuICAgIH0sXG4gICAgZWR1Y2F0aW9uOiB7XG4gICAgICBuYW1lOiAnUHVyZHVlIFVuaXZlcnNpdHknLFxuICAgICAgZ3JhZHV0aW9uRGF0ZTogJ01heSAyMDE3JyxcbiAgICAgIGdwYTogMy45NyxcbiAgICAgIGFyZWE6IHtcbiAgICAgICAgbWFqb3I6ICdDb21wdXRlciBHcmFwaGljcyBUZWNobm9sb2d5JyxcbiAgICAgICAgbWlub3I6ICdDb21wdXRlciBJbmZvcm1hdGlvbiBUZWNobm9sb2d5J1xuICAgICAgfVxuICAgIH0sXG4gICAgZXhwZXJpZW5jZTogW1xuICAgICAge1xuICAgICAgICB0aXRsZTogJ0JsYXN0IFJhZGl1cycsXG4gICAgICAgIHBvc2l0aW9uOiAnV2ViIERldmVsb3BtZW50IEludGVybicsXG4gICAgICAgIGRhdGU6ICdTdW1tZXIgMjAxNScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBbXG4gICAgICAgICAgJ0RldmVsb3BlZCBpbnRlcmFjdGl2ZSB3ZWJzaXRlIGV4cGVyaWVuY2VzIGZvciBhIHZhcmlldHkgb2YgY2xpZW50cy4nLFxuICAgICAgICAgICdDb2xsYWJvcmF0ZWQgd2l0aCBwcm9mZXNzaW9uYWxzIGluIHdlYiBkZXZlbG9wbWVudCBhbmQgZGVzaWduLidcbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdGcmVlbGFuY2UgR3JhcGhpYyBEZXNpZ24nLFxuICAgICAgICBkYXRlOiAnQXVndXN0IDIwMTQgLSBQcmVzZW50JyxcbiAgICAgICAgZGVzY3JpcHRpb246IFtcbiAgICAgICAgICAnQ29uc3VsdGVkIHdpdGggY2xpZW50cyB0byBwcm9kdWNlIGRlc2lnbnMgYW5kIG1hcmtldGluZyBtYXRlcmlhbHMnLFxuICAgICAgICAgICdDbGllbnRzIGluY2x1ZGU6IE9yZ2FuaXphaW9ucywgU3R1ZGVudCBHb3Zlcm5tZW50IENhbXBhaWducywgYW5kIENhcmVlciBGYWlycydcbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdFYWdsZSBTY291dCcsXG4gICAgICAgIGRhdGU6ICdKdW5lIDIwMTMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogW1xuICAgICAgICAgICdPdmVyc2F3IHRoZSBkZXZlbG9wbWVudCBhbmQgY29uZHVjdGVkIGEgY29tbXVuaXR5IHNlcnZpY2UgcHJvamVjdC4nLFxuICAgICAgICAgICdSZXN1bHRlZCBpbiBtb3JlIHRoYW4gMTUwIGhvdXJzIG9mIHNlcnZpY2UuJ1xuICAgICAgICBdXG4gICAgICB9XG4gICAgXSxcbiAgICBza2lsbHM6IHtcbiAgICAgIGxhbmd1YWdlczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ0hUTUwvQ1NTJyxcbiAgICAgICAgICByZWxhdGVkOiBbXG4gICAgICAgICAgICAnU0FTUycsICdqYWRlJ1xuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6ICdKYXZhU2NyaXB0JyxcbiAgICAgICAgICByZWxhdGVkOiBbXG4gICAgICAgICAgICAnQW5ndWxhckpTJywnVnVlLmpzJywgJ05vZGUuanMnLCAnRXhwcmVzcy5qcycsICdqUXVlcnknXG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ1BIUCcsXG4gICAgICAgICAgcmVsYXRlZDogW1xuICAgICAgICAgICAgJ1NRTCcsICdTbGltJywgJ0ZsaWdodCdcbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICB0ZWNobmljYWw6IFtcbiAgICAgICAgJ2dpdCcsJ2d1bHAnLFxuICAgICAgXVxuXG4gICAgfVxuICB9LFxuXG59IiwidmFyIGZpbHRlcnMgPSB7XG4gIHRleHRUb0pTT046IGZ1bmN0aW9uKGpzb24pe1xuICAgIGlmICh0eXBlb2YganNvbiAhPSAnc3RyaW5nJykge1xuICAgICAganNvbiA9IEpTT04uc3RyaW5naWZ5KGpzb24sIHVuZGVmaW5lZCwgMik7XG4gICAgfVxuICAgIGpzb24gPSBqc29uLnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcbiAgICByZXR1cm4ganNvbi5yZXBsYWNlKC8oXCIoXFxcXHVbYS16QS1aMC05XXs0fXxcXFxcW151XXxbXlxcXFxcIl0pKlwiKFxccyo6KT98XFxiKHRydWV8ZmFsc2V8bnVsbClcXGJ8LT9cXGQrKD86XFwuXFxkKik/KD86W2VFXVsrXFwtXT9cXGQrKT8pL2csIFxuICAgICAgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICB2YXIgY2xzID0gJ251bWJlcic7XG4gICAgICBpZiAoL15cIi8udGVzdChtYXRjaCkpIHtcbiAgICAgICAgaWYgKC86JC8udGVzdChtYXRjaCkpIHtcbiAgICAgICAgICBjbHMgPSAna2V5JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbHMgPSAnc3RyaW5nJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICgvdHJ1ZXxmYWxzZS8udGVzdChtYXRjaCkpIHtcbiAgICAgICAgY2xzID0gJ2Jvb2xlYW4nO1xuICAgICAgfSBlbHNlIGlmICgvbnVsbC8udGVzdChtYXRjaCkpIHtcbiAgICAgICAgY2xzID0gJ251bGwnO1xuICAgICAgfVxuICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIicgKyBjbHMgKyAnXCI+JyArIG1hdGNoICsgJzwvc3Bhbj4nO1xuICAgIH0pO1xuICB9XG59IiwidmFyIGNvbnRyb2xsZXIgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uKCl7XG4gICAgbW9kZWwuY3VycmVudE91dHB1dCA9IG1vZGVsLmRlZmF1bHRNZXNzYWdlO1xuICAgIHJlc3VtZUNvbnRlbnRWaWV3LmluaXQoKTtcbiAgICBjb25zb2xlVmlldy5pbml0KCk7XG5cbiAgfSxcblxuICBnZXRSZXN1bWVEYXRhOiBmdW5jdGlvbigpe1xuICAgIHJldHVybiBtb2RlbC5kYXRhO1xuICB9LFxuXG4gIGdldERlZmF1bHREYXRhOiBmdW5jdGlvbigpe1xuICAgIHJldHVybiBtb2RlbC5kZWZhdWx0TWVzc2FnZTtcbiAgfSxcblxuICBnZXRDdXJyZW50T3V0cHV0OiBmdW5jdGlvbigpe1xuICAgIHJldHVybiBtb2RlbC5jdXJyZW50T3V0cHV0O1xuICB9LFxuXG4gIHVwZGF0ZU91dHB1dDogZnVuY3Rpb24obmV3T3V0cHV0LCBjYWxsYmFjayl7XG4gICAgbW9kZWwuY3VycmVudE91dHB1dCA9IG5ld091dHB1dDtcbiAgICBjYWxsYmFjaygpO1xuICB9LFxuXG4gIGVudGVyQ29tbWFuZDogZnVuY3Rpb24oY29tbWFuZCl7XG4gICAgdmFyIGZsYWcgPSBmYWxzZTtcbiAgICB2YXIgYXJncyA9IGNvbW1hbmQuc3BsaXQoJyAnKTtcbiAgICBtb2RlbC5wcmV2aW91c0NvbW1hbmRzLnB1c2goe1xuICAgICAgdGV4dDogY29tbWFuZCxcbiAgICAgIHR5cGU6ICdjb21tYW5kJ1xuICAgIH0pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbW9kZWwuY29tbWFuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBtb2RlbENvbW1hbmQgPSBtb2RlbC5jb21tYW5kc1tpXTtcbiAgICAgIGlmIChhcmdzWzBdID09PSBtb2RlbENvbW1hbmQudGV4dCl7XG4gICAgICAgIGZsYWcgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKCFmbGFnKSB7XG4gICAgICBtb2RlbC5wcmV2aW91c0NvbW1hbmRzLnB1c2goe1xuICAgICAgICB0ZXh0OiAnY29tbWFuZCBub3QgZm91bmQ6ICcgKyBhcmdzWzBdLFxuICAgICAgICB0eXBlOiAnZXJyb3InXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiAndG8gdmlldyBhdmFpbGFibGUgY29tbWFuZHMgdHlwZTogaGVscCcsXG4gICAgICAgIHR5cGU6ICdyZXNwb25zZSdcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmV4ZWN1dGVDb21tYW5kKGNvbW1hbmQpO1xuICAgIH1cbiAgICBjb25zb2xlVmlldy5yZW5kZXIoKTtcbiAgfSxcblxuICBleGVjdXRlQ29tbWFuZDogZnVuY3Rpb24oY29tbWFuZCl7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgY29tQXJncyA9IGNvbW1hbmQuc3BsaXQoJyAnKTtcblxuICAgIHZhciBjb21tYW5kcyA9IHtcbiAgICAgIGhlbHA6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBjb21tYW5kcyA9IG1vZGVsLmNvbW1hbmRzO1xuICAgICAgICBtb2RlbC5wcmV2aW91c0NvbW1hbmRzLnB1c2goe1xuICAgICAgICAgIHRleHQ6Jy0tLS0tJyxcbiAgICAgICAgICB0eXBlOidyZXNwb25zZSdcbiAgICAgICAgfSx7XG4gICAgICAgICAgdGV4dDogJ0F2YWlsYWJsZSBDb21tYW5kczonLFxuICAgICAgICAgIHR5cGU6ICdyZXNwb25zZSdcbiAgICAgICAgfSx7XG4gICAgICAgICAgdGV4dDonLS0tLS0nLFxuICAgICAgICAgIHR5cGU6J3Jlc3BvbnNlJ1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21tYW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBhdmFsQ29tbWFuZCA9IGNvbW1hbmRzW2ldO1xuICAgICAgICAgIG1vZGVsLnByZXZpb3VzQ29tbWFuZHMucHVzaCh7XG4gICAgICAgICAgICB0ZXh0OiBhdmFsQ29tbWFuZC50ZXh0LFxuICAgICAgICAgICAgdHlwZTogJ3Jlc3BvbnNlJ1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChhdmFsQ29tbWFuZC5wYXJhbXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG1vZGVsLnByZXZpb3VzQ29tbWFuZHMucHVzaCh7XG4gICAgICAgICAgICAgIHRleHQ6ICctYWNjZXB0czogJyArIGF2YWxDb21tYW5kLnBhcmFtcyxcbiAgICAgICAgICAgICAgdHlwZTogJ3Jlc3BvbnNlJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc29sZVZpZXcucmVuZGVyKCk7XG4gICAgICB9LFxuICAgICAgb3BlbjogZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIG9wZW5SZXN1bWUgPSBmdW5jdGlvbigpe1xuICAgICAgICAgIF90aGlzLnVwZGF0ZU91dHB1dCh7cmVzdW1lOiBtb2RlbC5kYXRhfSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJlc3VtZUNvbnRlbnRWaWV3LnJlbmRlcigpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoY29tQXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBtb2RlbC5wcmV2aW91c0NvbW1hbmRzLnB1c2goe1xuICAgICAgICAgICAgdGV4dDogXCJ0eXBlICdvcGVuIHJlc3VtZSdcIixcbiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJ1xuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3VtZTogb3BlblJlc3VtZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNob3c6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBzaG93RWR1Y2F0aW9uID0gIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgX3RoaXMudXBkYXRlT3V0cHV0KHtlZHVjYXRpb246IG1vZGVsLmRhdGEuZWR1Y2F0aW9ufSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJlc3VtZUNvbnRlbnRWaWV3LnJlbmRlcigpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgc2hvd1hwID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICBfdGhpcy51cGRhdGVPdXRwdXQoe2V4cGVyaWVuY2U6IG1vZGVsLmRhdGEuZXhwZXJpZW5jZX0sIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXN1bWVDb250ZW50Vmlldy5yZW5kZXIoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHNob3dTa2lsbHMgPSBmdW5jdGlvbigpe1xuICAgICAgICAgIF90aGlzLnVwZGF0ZU91dHB1dCh7c2tpbGxzOiBtb2RlbC5kYXRhLnNraWxsc30sIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXN1bWVDb250ZW50Vmlldy5yZW5kZXIoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tQXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBtb2RlbC5wcmV2aW91c0NvbW1hbmRzLnB1c2goe1xuICAgICAgICAgICAgdGV4dDogXCJ0eXBlICdzaG93IFtcIiArIG1vZGVsLmNvbW1hbmRzWzRdLnBhcmFtcyArIFwiXSdcIixcbiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJ1xuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVkdWNhdGlvbjogc2hvd0VkdWNhdGlvbixcbiAgICAgICAgICAgIHNraWxsczogc2hvd1NraWxscyxcbiAgICAgICAgICAgIHhwOiBzaG93WHBcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlbWFpbDogZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHN1YmplY3QgPSAnJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBjb21BcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgc3ViamVjdCArPSAoJyAnICsgY29tQXJnc1tpXSlcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGxpbmsgPSAnbWFpbHRvOm1lQGpvaG5zeWx2YS5pbj9zdWJqZWN0PScgKyBzdWJqZWN0O1xuICAgICAgICB3aW5kb3cub3BlbihsaW5rKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29tQXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGNvbW1hbmRzW2NvbUFyZ3NbMF1dKCk7XG4gICAgfSBlbHNlIGlmKGNvbUFyZ3NbMF0gPT09ICdlbWFpbCcpe1xuICAgICAgY29tbWFuZHNbY29tQXJnc1swXV0oKTtcbiAgICB9IGVsc2UgaWYgKGNvbUFyZ3MubGVuZ3RoID4gMSl7XG4gICAgICB2YXIgc3ViQ29tbWFuZCA9IGNvbW1hbmRzW2NvbUFyZ3NbMF1dKCk7XG4gICAgICBpZihzdWJDb21tYW5kW2NvbUFyZ3NbMV1dKSB7XG4gICAgICAgIHN1YkNvbW1hbmRbY29tQXJnc1sxXV0oKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW9kZWwucHJldmlvdXNDb21tYW5kcy5wdXNoKHtcbiAgICAgICAgICB0ZXh0OiBjb21BcmdzWzFdICsgJyBpcyBub3QgYSBwcm9wZXIgcGFyYW1ldGVyIG9mIFxcJycgKyBjb21BcmdzWzBdICsgJ1xcJycsXG4gICAgICAgICAgdHlwZTogJ2Vycm9yJ1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cblxuICB9LFxuXG4gIGdldFByZXZpb3VzQ29tbWFuZHM6IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIG1vZGVsLnByZXZpb3VzQ29tbWFuZHM7XG4gIH0sXG5cbiAgZ2V0RmlsZU5hbWU6IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGN1cnJlbnQgPSBtb2RlbC5jdXJyZW50T3V0cHV0O1xuICAgIHZhciBmaWxlTmFtZSA9IE9iamVjdC5rZXlzKGN1cnJlbnQpWzBdO1xuICAgIHJldHVybiBmaWxlTmFtZTtcbiAgfVxuXG59IiwidmFyIHJlc3VtZUNvbnRlbnRWaWV3ID0ge1xuICBpbml0OiBmdW5jdGlvbigpe1xuICAgIHRoaXMucmVzdW1lQ29udGFpbmVyRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN1bWUtY29kZScpO1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpe1xuICAgIHZhciBkYXRhID0gY29udHJvbGxlci5nZXRDdXJyZW50T3V0cHV0KCk7XG4gICAgdmFyIGpzb24gPSBmaWx0ZXJzLnRleHRUb0pTT04oSlNPTi5zdHJpbmdpZnkoZGF0YSxudWxsLCcgICcpKTtcbiAgICB0aGlzLnJlc3VtZUNvbnRhaW5lckVsZW0uaW5uZXJIVE1MID0ganNvbjtcbiAgfVxufVxuXG52YXIgY29uc29sZVZpZXcgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5wcm9tcHRFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbW1hbmQtcHJvbXB0Jyk7XG4gICAgdGhpcy5wcmV2RWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21tYW5kcycpO1xuICAgIHRoaXMuZmlsZU5hbWVFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGUtbmFtZScpO1xuXG4gICAgdmFyIGNvbnNvbGVFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnNvbGUnKTtcbiAgICB2YXIgY29tbWFuZElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbW1hbmQtaW5wdXQnKTtcbiAgICBjb21tYW5kSW5wdXQuZm9jdXMoKTtcblxuICAgIGNvbnNvbGVFbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgIGNvbW1hbmRJbnB1dC5mb2N1cygpO1xuICAgIH0pXG5cbiAgICB0aGlzLnByb21wdEVsZW0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24oZSl7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgY29tbWFuZCA9IGUudGFyZ2V0LnByb21wdC52YWx1ZTtcbiAgICAgIGUudGFyZ2V0LnByb21wdC52YWx1ZSA9ICcnO1xuICAgICAgY29udHJvbGxlci5lbnRlckNvbW1hbmQoY29tbWFuZCk7XG4gICAgfSlcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKXtcbiAgICB0aGlzLnByZXZFbGVtLmlubmVySFRNTCA9ICcnO1xuICAgIHZhciBjb21tYW5kcyA9IGNvbnRyb2xsZXIuZ2V0UHJldmlvdXNDb21tYW5kcygpO1xuXG4gICAgdGhpcy5maWxlTmFtZUVsZW0udGV4dENvbnRlbnQgPSBjb250cm9sbGVyLmdldEZpbGVOYW1lKCk7XG5cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tbWFuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjb21tYW5kID0gY29tbWFuZHNbaV07XG4gICAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG5cbiAgICAgIGlmIChjb21tYW5kLnR5cGUgPT09ICdjb21tYW5kJykge1xuICAgICAgICBlbGVtLnRleHRDb250ZW50ID0gJyQgJyArIGNvbW1hbmQudGV4dDtcbiAgICAgIH0gZWxzZSBpZihjb21tYW5kLnR5cGUgPT09ICdlcnJvcicpe1xuICAgICAgICBlbGVtLnRleHRDb250ZW50ID0gY29tbWFuZC50ZXh0O1xuICAgICAgICBlbGVtLmNsYXNzTmFtZSA9ICdjb21tYW5kRXJyb3InO1xuICAgICAgfSBlbHNlIGlmKGNvbW1hbmQudHlwZSA9PT0gJ3Jlc3BvbnNlJyl7XG4gICAgICAgIGVsZW0udGV4dENvbnRlbnQgPSBjb21tYW5kLnRleHQ7XG4gICAgICAgIGVsZW0uY2xhc3NOYW1lID0gJ2NvbW1hbmRSZXNwb25zZSc7XG4gICAgICB9IGVsc2UgaWYoY29tbWFuZC50eXBlID09PSAnd2FybmluZycpe1xuICAgICAgICBlbGVtLnRleHRDb250ZW50ID0gY29tbWFuZC50ZXh0O1xuICAgICAgICBlbGVtLmNsYXNzTmFtZSA9ICdjb21tYW5kV2FybmluZyc7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJldkVsZW0uYXBwZW5kQ2hpbGQoZWxlbSk7XG4gICAgfTtcblxuICB9XG59IiwiY29udHJvbGxlci5pbml0KCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
